{"version":3,"sources":["serviceWorker.js","home/App.js","list/List.js","detail/Detail.js","index.js"],"names":["Boolean","window","location","hostname","match","App","className","type","href","target","rel","Bmob","initialize","query","Query","dataArr","List","props","getColumnSearchProps","dataIndex","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","style","padding","ref","node","searchInput","placeholder","value","onChange","e","onPressEnter","handleSearch","width","marginBottom","display","onClick","icon","size","marginRight","handleReset","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","text","highlightStyle","backgroundColor","searchWords","state","searchText","autoEscape","textToHighlight","setState","handleOk","confirmLoading","destroy","deleteid","then","res","msg","genData","message","success","catch","err","console","log","error","handleCancel","handleOperate","id","history","push","pathname","data","loading","ModalText","reqNum","limit","skip","find","i","length","key","name","price","this","columns","title","handleDelete","dataSource","float","onOk","onCancel","React","Component","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","CustomizedForm","create","onFieldsChange","changedFields","mapPropsToFields","createFormField","onValuesChange","_","values","getFieldDecorator","form","labelCol","span","wrapperCol","Item","label","rules","required","Detail","previewVisible","handlePreview","a","url","preview","originFileObj","previewImage","handleChange","fileList","handleChangeIntro","introList","handleSubmit","banner","handleImg","intro","queryArray","Array","set","fields","saveAll","equalTo","todos","handleFormChange","params","thumbUrl","len","split","uid","Name","Price","handleFile","Banner","uploadButton","description","showIcon","action","listType","onPreview","footer","alt","src","ReactDOM","exact","path","component","Home","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.74ba81b2.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport { Button } from 'antd';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Button type=\"primary\">Button</Button>\n      <header className=\"App-header\">\n        {/* <img src={logo} className=\"App-logo\" alt=\"logo\" /> */}\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { Table, Input, Button, Icon, Modal, message } from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport Bmob from \"hydrogen-js-sdk\";\nBmob.initialize(\"57b561f7d48f3c2e\", \"191019\");\nvar query = Bmob.Query(\"wine\");\nvar dataArr = [];\n\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: '',\n      data: [],\n      loading: true,\n      visible: false,\n      confirmLoading: false,\n      ModalText: '',\n      deleteid : 0\n    };\n  }\n\n  genData(reqNum = 0) {\n    dataArr = [];\n    query.limit(10);\n    query.skip(10 * reqNum);\n    query.find().then(res => {\n      for (let i = 0; i < res.length; i++) {\n        dataArr.push({\n          key: i,\n          id: `${res[i]['objectId']}`,\n          name: res[i]['Name'],\n          price: `${res[i]['Price']}`\n        });\n      }\n    }).then(res => {\n      setTimeout(() => this.setState({\n        data: dataArr,\n        loading: false\n      }), 0);\n    })\n  }\n\n  componentDidMount() {\n    this.genData()\n  }\n\n  getColumnSearchProps = dataIndex => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={node => {\n            this.searchInput = node;\n          }}\n          placeholder={`Search ${dataIndex}`}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm)}\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n        />\n        <Button\n          type=\"primary\"\n          onClick={() => this.handleSearch(selectedKeys, confirm)}\n          icon=\"search\"\n          size=\"small\"\n          style={{ width: 90, marginRight: 8 }}\n        >\n          Search\n        </Button>\n        <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n          Reset\n        </Button>\n      </div>\n    ),\n    filterIcon: filtered => (\n      <Icon type=\"search\" style={{ color: filtered ? '#1890ff' : undefined }} />\n    ),\n    onFilter: (value, record) =>\n      record[dataIndex]\n        .toString()\n        .toLowerCase()\n        .includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: visible => {\n      if (visible) {\n        setTimeout(() => this.searchInput.select());\n      }\n    },\n    render: text => (\n      <Highlighter\n        highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n        searchWords={[this.state.searchText]}\n        autoEscape\n        textToHighlight={text.toString()}\n      />\n    ),\n  });\n\n  handleSearch = (selectedKeys, confirm) => {\n    confirm();\n    this.setState({ searchText: selectedKeys[0] });\n  };\n\n  handleReset = clearFilters => {\n    clearFilters();\n    this.setState({ searchText: '' });\n  };\n\n  handleDelete(id, name){\n    //console.log(text)\n    this.setState({\n      visible: true,\n      ModalText: `确认删除 ${name} ?`,\n      deleteid: id\n    })\n  }\n  handleOk = () => {\n    this.setState({\n      confirmLoading: true,\n    });\n\n    query.destroy(this.state.deleteid).then(res => {\n      \n      if(res.msg == 'ok'){\n        this.genData()\n        this.setState({\n          visible: false,\n          confirmLoading: false,\n        });\n        message.success('删除成功');\n      }\n    }).catch(err => {\n      console.log(err)\n      message.error('删除失败');\n    })\n\n  };\n\n  handleCancel = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleOperate = (id) =>{\n    this.props.history.push({pathname:'/list/'+ id})\n  }\n\n  render() {\n    const columns = [\n      {\n        title: '商品ID',\n        dataIndex: 'id',\n        key: 'id',\n        width: '20%',\n        ...this.getColumnSearchProps('id'),\n      },\n      {\n        title: '商品名称',\n        dataIndex: 'name',\n        key: 'name',\n        width: '30%',\n        ...this.getColumnSearchProps('name'),\n      },\n      {\n        title: '商品价格',\n        dataIndex: 'price',\n        key: 'price',\n        ...this.getColumnSearchProps('price'),\n      },\n      {\n        title: '操作',\n        key: 'operate',\n        render: (record) => <div><Button onClick={()=>{this.handleDelete(record.id,record.name)}} type=\"danger\">删除</Button> <Button type=\"ghost\" onClick={()=>{this.handleOperate(record.id)}}>编辑</Button></div>\n      },\n    ];\n    return (\n      <div>\n      <Table columns={columns}\n        loading={this.state.loading}\n        dataSource={this.state.data}\n        title={() => <Button style={{ float: 'right' }} type=\"primary\" onClick={()=>{this.handleOperate(0)}}>新增</Button>}\n      />\n      <Modal\n          title=\"删除商品\"\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          confirmLoading={this.state.confirmLoading}\n          onCancel={this.handleCancel}\n        >\n          <p>{this.state.ModalText}</p>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default List;","import React from 'react';\nimport { Form, Input, Upload, Icon, Modal, Button, Alert, message } from 'antd';\nimport Bmob from \"hydrogen-js-sdk\";\nBmob.initialize(\"57b561f7d48f3c2e\", \"191019\");\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}\n\nconst CustomizedForm = Form.create({\n  name: 'global_state',\n  onFieldsChange(props, changedFields) {\n    props.onChange(changedFields);\n  },\n  mapPropsToFields(props) {\n    return {\n      name: Form.createFormField({\n        ...props.name,\n        value: props.name.value,\n      }),\n      price: Form.createFormField({\n        ...props.price,\n        value: props.price.value,\n      }),\n    };\n  },\n  onValuesChange(_, values) {\n    //console.log(values);\n  },\n})(props => {\n  const { getFieldDecorator } = props.form;\n  const formItemLayout = {\n    labelCol: { span: 2 },\n    wrapperCol: { span: 8 },\n  };\n  return (\n    <Form {...formItemLayout} >\n      <Form.Item label=\"商品名称\">\n        {getFieldDecorator('name', {\n          rules: [{ required: true, message: '商品名不能为空!' }],\n        })(<Input />)}\n      </Form.Item>\n      <Form.Item label=\"商品价格\">\n        {getFieldDecorator('price', {\n          rules: [{ required: true, message: '商品价格不能为空!' }],\n        })(<Input />)}\n      </Form.Item>\n    </Form>\n  );\n});\n\nclass Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      previewVisible: false,\n      previewImage: '',\n      loading: true,\n      id: props.match.params.id,\n      fileList: [],\n      introList: [],\n      fields: {\n        name: {\n          value: '',\n        },\n        price: {\n          value: '',\n        },\n      },\n    };\n\n  }\n\n  handleCancel = () => this.setState({ previewVisible: false });\n\n  handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    this.setState({\n      previewImage: file.url || file.preview,\n      previewVisible: true,\n    });\n  };\n\n  handleChange = ({ fileList }) => this.setState({ fileList });\n\n  handleChangeIntro = ({ fileList }) => this.setState({ introList: fileList });\n\n  handleImg(file) {\n    var data = ''\n\n    for (let i = 0; i < file.length; i++) {\n      if (i == file.length - 1) {\n        data += (file[i].thumbUrl)\n      } else {\n        data += (file[i].thumbUrl + '||')\n      }\n    }\n    return data;\n  }\n  // 提交\n  handleSubmit = () => {\n    const { fileList, introList } = this.state;\n    const banner = this.handleImg(fileList);\n    const intro = this.handleImg(introList);\n\n    this.setState({ loading: true });\n    const query = Bmob.Query(\"wine\");\n\n    if (this.state.id == 0) { // 新增\n      const queryArray = new Array();\n      //var queryObj = Bmob.Query('tableName');\n      query.set('Price', this.state.fields.price.value * 1);\n      query.set('Name', this.state.fields.name.value);\n      query.set('Banner', banner);\n      query.set('intro', intro);\n\n      queryArray.push(query);\n\n      // 传入刚刚构造的数组\n      Bmob.Query('wine').saveAll(queryArray).then(result => {\n        console.log(result);\n        message.success('新增成功！');\n        this.setState({ loading: false });\n      }).catch(err => {\n        console.log(err);\n        message.success('新增失败！');\n        this.setState({ loading: false });\n      });\n\n    } else { // 编辑\n      query.equalTo(\"objectId\", \"==\", this.state.id);\n      query.find().then(todos => {\n        todos.set('Price', this.state.fields.price.value * 1);\n        todos.set('Name', this.state.fields.name.value);\n        todos.set('Banner', banner);\n        todos.set('intro', intro);\n\n        todos.saveAll().then(res => {\n          // 成功批量修改\n          console.log(res, 'ok')\n          message.success('编辑成功！');\n          this.setState({ loading: false });\n        }).catch(err => {\n          console.log(err)\n          message.error('编辑失败！');\n          this.setState({ loading: false });\n        });\n      })\n    }\n\n  };\n\n  // 处理图片\n  handleFile(data) {\n    var file = [];\n    var len = (data && data.split('||').length) || 0\n    for (let i = 0; i < len; i++) {\n      file.push({\n        uid: i,\n        name: `image${i}`,\n        state: 'done',\n        url: data.split('||')[i],\n        thumbUrl: data.split('||')[i]\n      })\n    }\n    return file;\n  }\n  // 获取数据\n  genData() {\n\n    if (this.state.id == 0) { // 新增\n      this.setState({\n        fields: {\n          name: {\n            value: '',\n          },\n          price: {\n            value: 0\n          }\n        },\n        fileList: [],\n        introList: [],\n        loading: false\n      })\n    } else { // 编辑\n      const query = Bmob.Query(\"wine\");\n      query.equalTo(\"objectId\", \"==\", this.state.id);\n      query.find().then(res => {\n\n        const data = res[0]\n        setTimeout(() => {\n          this.setState({\n            //name: data.Name,\n            fields: {\n              name: {\n                value: data.Name,\n              },\n              price: {\n                value: data.Price,\n              },\n            },\n\n            fileList: this.handleFile(data.Banner),\n            introList: this.handleFile(data.intro)\n          })\n        }, 100)\n\n      }).then(() => {\n        this.setState({\n          loading: false\n        })\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.genData()\n  }\n\n  handleFormChange = changedFields => {\n    this.setState(({ fields }) => ({\n      fields: { ...fields, ...changedFields },\n    }));\n  };\n\n  render() {\n    const { previewVisible, previewImage, fileList, introList, name, price, fields } = this.state;\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\" />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n    return (\n      <div style={{ 'width': '75%', 'margin': '50px auto' }}>\n        <Alert\n          style={{ 'width': '50%' }}\n          message=\"提醒：\"\n          description=\"经过测试：图片上传大小为：500X500 最佳\"\n          type=\"warning\"\n          showIcon\n        />\n        <br /><br />\n        {/* <label>名称：</label> <Input placeholder=\"商品名称\" value={name} allowClear ref=\"name\" style={{ 'width': '50%', 'marginBottom': '30px' }} /> <br />\n        <label>价格：</label> <Input placeholder=\"商品价格\" defaultValue={price} allowClear ref=\"price\" style={{ 'width': '50%', 'marginBottom': '30px' }} /> <br /> */}\n        <CustomizedForm {...fields} onChange={this.handleFormChange} />\n        <div className=\"clearfix\">\n          <label style={{ 'marginBottom': '15px' }}>轮播图(<font style={{ 'color': 'red' }}>最多只能3张</font>)：</label>\n          <Upload\n            action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n            listType=\"picture-card\"\n            fileList={fileList}\n            onPreview={this.handlePreview}\n            onChange={this.handleChange}\n          >\n            {fileList.length >= 3 ? null : uploadButton}\n          </Upload>\n          <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n            <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n          </Modal>\n        </div>\n\n        <div className=\"clearfix\">\n          <label style={{ 'marginBottom': '15px' }}>商品详情图(<font style={{ 'color': 'red' }}>最多只能3张</font>)：</label>\n          <Upload\n            action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n            listType=\"picture-card\"\n            fileList={introList}\n            onPreview={this.handlePreview}\n            onChange={this.handleChangeIntro}\n          >\n            {introList.length >= 3 ? null : uploadButton}\n          </Upload>\n          <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n            <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n          </Modal>\n        </div>\n        <Button type=\"primary\" loading={this.state.loading} onClick={this.handleSubmit} style={{ 'marginTop': '30px' }}>\n          提交\n      </Button>\n      </div >\n    )\n  }\n}\n\nexport default Detail;","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//import App from './home/App';\nimport * as serviceWorker from './serviceWorker';\n// 路由使用 history模式\nimport { HashRouter,Route } from 'react-router-dom';\n// 路由采用 hash模式\n// import { HashRouter } from 'react-router-dom'\nimport Home from './home/App'\nimport List from './list/List'\nimport Detail from './detail/Detail'\n\nReactDOM.render(\n  <HashRouter>\n    <Route exact path='/' component={Home}/>\n    <Route exact path='/list' component={List}/>\n    <Route exact path='/list/:id' component={Detail}/>\n  </HashRouter>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}